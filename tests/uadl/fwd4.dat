#
# Forwarding test, checking that the ea can be forwarded.
#
= asm

	lwzu r2,0x100(r1)
	lwzu r3,4(r1)
	lwzu r4,4(r1)
	
= /asm

CORE n=:P

# <GEN>
MD n=Mem ra=0x00000000 d=0x84410100	#	lwzu r2,0x100(r1)
MD n=Mem ra=0x00000004 d=0x84610004	#	lwzu r3,4(r1)
MD n=Mem ra=0x00000008 d=0x84810004	#	lwzu r4,4(r1)
# </GEN>

RD n=NIA     d=0x0


MD n=Mem ra=0x100 d=0xdeadbeef
MD n=Mem ra=0x104 d=0x12345678
MD n=Mem ra=0x108 d=0x87654321
MD n=Mem ra=0x10c d=0x00000000
MD n=Mem ra=0x110 d=0x00000000

TRACE

I ea=0x0 id=1
M n=Mem t=ifetch ea=0x0 ra=0x0 d=0x84410100
INSTR op=0x84410100					asm="lwzu r2,256(r1)"
ITIME t=1
D n=Mem t=read ea=0x100 nb=4
M n=Mem t=read ea=0x100 ra=0x100 d=0xdeadbeef
R n=GPR i=1 d=0x00000100
R n=GPR i=2 d=0xdeadbeef
CTIME t=5

I ea=0x4 id=2
M n=Mem t=ifetch ea=0x4 ra=0x4 d=0x84610004
INSTR op=0x84610004					asm="lwzu r3,4(r1)"
ITIME t=2
D n=Mem t=read ea=0x104 nb=4
M n=Mem t=read ea=0x104 ra=0x104 d=0x12345678
R n=GPR i=1 d=0x00000104
R n=GPR i=3 d=0x12345678
CTIME t=6

I ea=0x8 id=3
M n=Mem t=ifetch ea=0x8 ra=0x8 d=0x84810004
INSTR op=0x84810004					asm="lwzu r4,4(r1)"
ITIME t=3
D n=Mem t=read ea=0x108 nb=4
M n=Mem t=read ea=0x108 ra=0x108 d=0x87654321
R n=GPR i=1 d=0x00000108
R n=GPR i=4 d=0x87654321
CTIME t=7

I ea=0xc id=4
M n=Mem t=ifetch ea=0xc ra=0xc d=0x00000000
INSTR op=0x00000000					asm="halt "
ITIME t=7
CTIME t=11

RESULTS

RD n=GPR i=1 d=0x00000108
RD n=GPR i=2 d=0xdeadbeef
RD n=GPR i=3 d=0x12345678
RD n=GPR i=4 d=0x87654321
