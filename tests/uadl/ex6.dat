#
# Checks that we can handle a decode-miss using the special decode_miss pseudo
# instruction.
#
= asm

	addi r1,r1,1
	.long 0xdeadbeef
	addi r1,r1,1
	.long 0xdeadbeef
	addi r1,r1,1
	.long 0xdeadbeef
	addi r1,r1,1
	.long 0x0
	addi  r31,r31,1
	mfspr r30,SRR0
	addi r30,r30,4
	mtspr SRR0,r30
	rfi

= /asm

# <GEN>
MD n=Mem ra=0x00000000 d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x00000004 d=0xDEADBEEF	#	.long 0xdeadbeef
MD n=Mem ra=0x00000008 d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x0000000c d=0xDEADBEEF	#	.long 0xdeadbeef
MD n=Mem ra=0x00000010 d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x00000014 d=0xDEADBEEF	#	.long 0xdeadbeef
MD n=Mem ra=0x00000018 d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x0000001c d=0x00000000	#	.long 0x0
MD n=Mem ra=0x00000020 d=0x3BFF0001	#	addi  r31,r31,1
MD n=Mem ra=0x00000024 d=0x7FDA02A6	#	mfspr r30,SRR0
MD n=Mem ra=0x00000028 d=0x3BDE0004	#	addi r30,r30,4
MD n=Mem ra=0x0000002c d=0x7FDA03A6	#	mtspr SRR0,r30
MD n=Mem ra=0x00000030 d=0x4C000064	#	rfi
# </GEN>

CORE n=:P

RD n=NIA   d=0x0
RD n=IVPR  d=0x0
RD n=IVOR6 d=0x20

TRACE

I ea=0x0 id=1
T n=TlbCam t=instr ea=0x0 ra=0x0  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x0 ra=0x0 d=0x38210001
INSTR op=0x38210001					asm="addi r1,r1,1"
ITIME t=1
R n=GPR i=1 d=0x00000001
CTIME t=5

I ea=0x4 id=2
T n=TlbCam t=instr ea=0x4 ra=0x4  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x4 ra=0x4 d=0xdeadbeef
INSTR op=0xdeadbeef					asm=".long 0xdeadbeef"
ITIME t=1
E n=Program
R n=SRR0 d=0x00000004
R n=SRR1 d=0x00000000
R n=MSR d=0x00000000
B taken=1 ea=0x20
CTIME t=5

I ea=0x20 id=3
T n=TlbCam t=instr ea=0x20 ra=0x20  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x20 ra=0x20 d=0x3bff0001
INSTR op=0x3bff0001					asm="addi r31,r31,1"
ITIME t=3
R n=GPR i=31 d=0x00000001
CTIME t=7

I ea=0x24 id=4
T n=TlbCam t=instr ea=0x24 ra=0x24  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x24 ra=0x24 d=0x7fda02a6
INSTR op=0x7fda02a6					asm="mfspr r30,SRR0"
ITIME t=3
R n=GPR i=30 d=0x00000004
CTIME t=7

I ea=0x28 id=5
T n=TlbCam t=instr ea=0x28 ra=0x28  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x28 ra=0x28 d=0x3bde0004
INSTR op=0x3bde0004					asm="addi r30,r30,4"
ITIME t=4
R n=GPR i=30 d=0x00000008
CTIME t=10

I ea=0x2c id=6
T n=TlbCam t=instr ea=0x2c ra=0x2c  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x2c ra=0x2c d=0x7fda03a6
INSTR op=0x7fda03a6					asm="mtspr SRR0,r30"
ITIME t=4
R n=SRR0 d=0x00000008
CTIME t=13

I ea=0x30 id=7
T n=TlbCam t=instr ea=0x30 ra=0x30  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x30 ra=0x30 d=0x4c000064
INSTR op=0x4c000064					asm="rfi r0,r0,r0"
ITIME t=7
R n=MSR d=0x00000000
B taken=1 ea=0x8
CTIME t=16

I ea=0x8 id=8
T n=TlbCam t=instr ea=0x8 ra=0x8  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x8 ra=0x8 d=0x38210001
INSTR op=0x38210001					asm="addi r1,r1,1"
ITIME t=15
R n=GPR i=1 d=0x00000002
CTIME t=19

I ea=0xc id=9
T n=TlbCam t=instr ea=0xc ra=0xc  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0xc ra=0xc d=0xdeadbeef
INSTR op=0xdeadbeef					asm=".long 0xdeadbeef"
ITIME t=15
E n=Program
R n=SRR0 d=0x0000000c
R n=SRR1 d=0x00000000
R n=MSR d=0x00000000
B taken=1 ea=0x20
CTIME t=19

I ea=0x20 id=10
T n=TlbCam t=instr ea=0x20 ra=0x20  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x20 ra=0x20 d=0x3bff0001
INSTR op=0x3bff0001					asm="addi r31,r31,1"
ITIME t=17
R n=GPR i=31 d=0x00000002
CTIME t=21

I ea=0x24 id=11
T n=TlbCam t=instr ea=0x24 ra=0x24  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x24 ra=0x24 d=0x7fda02a6
INSTR op=0x7fda02a6					asm="mfspr r30,SRR0"
ITIME t=17
R n=GPR i=30 d=0x0000000c
CTIME t=21

I ea=0x28 id=12
T n=TlbCam t=instr ea=0x28 ra=0x28  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x28 ra=0x28 d=0x3bde0004
INSTR op=0x3bde0004					asm="addi r30,r30,4"
ITIME t=18
R n=GPR i=30 d=0x00000010
CTIME t=24

I ea=0x2c id=13
T n=TlbCam t=instr ea=0x2c ra=0x2c  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x2c ra=0x2c d=0x7fda03a6
INSTR op=0x7fda03a6					asm="mtspr SRR0,r30"
ITIME t=18
R n=SRR0 d=0x00000010
CTIME t=27

I ea=0x30 id=14
T n=TlbCam t=instr ea=0x30 ra=0x30  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x30 ra=0x30 d=0x4c000064
INSTR op=0x4c000064					asm="rfi r0,r0,r0"
ITIME t=21
R n=MSR d=0x00000000
B taken=1 ea=0x10
CTIME t=30

I ea=0x10 id=15
T n=TlbCam t=instr ea=0x10 ra=0x10  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x10 ra=0x10 d=0x38210001
INSTR op=0x38210001					asm="addi r1,r1,1"
ITIME t=29
R n=GPR i=1 d=0x00000003
CTIME t=33

I ea=0x14 id=16
T n=TlbCam t=instr ea=0x14 ra=0x14  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x14 ra=0x14 d=0xdeadbeef
INSTR op=0xdeadbeef					asm=".long 0xdeadbeef"
ITIME t=29
E n=Program
R n=SRR0 d=0x00000014
R n=SRR1 d=0x00000000
R n=MSR d=0x00000000
B taken=1 ea=0x20
CTIME t=33

I ea=0x20 id=17
T n=TlbCam t=instr ea=0x20 ra=0x20  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x20 ra=0x20 d=0x3bff0001
INSTR op=0x3bff0001					asm="addi r31,r31,1"
ITIME t=31
R n=GPR i=31 d=0x00000003
CTIME t=35

I ea=0x24 id=18
T n=TlbCam t=instr ea=0x24 ra=0x24  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x24 ra=0x24 d=0x7fda02a6
INSTR op=0x7fda02a6					asm="mfspr r30,SRR0"
ITIME t=31
R n=GPR i=30 d=0x00000014
CTIME t=35

I ea=0x28 id=19
T n=TlbCam t=instr ea=0x28 ra=0x28  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x28 ra=0x28 d=0x3bde0004
INSTR op=0x3bde0004					asm="addi r30,r30,4"
ITIME t=32
R n=GPR i=30 d=0x00000018
CTIME t=38

I ea=0x2c id=20
T n=TlbCam t=instr ea=0x2c ra=0x2c  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x2c ra=0x2c d=0x7fda03a6
INSTR op=0x7fda03a6					asm="mtspr SRR0,r30"
ITIME t=32
R n=SRR0 d=0x00000018
CTIME t=41

I ea=0x30 id=21
T n=TlbCam t=instr ea=0x30 ra=0x30  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x30 ra=0x30 d=0x4c000064
INSTR op=0x4c000064					asm="rfi r0,r0,r0"
ITIME t=35
R n=MSR d=0x00000000
B taken=1 ea=0x18
CTIME t=44

I ea=0x18 id=22
T n=TlbCam t=instr ea=0x18 ra=0x18  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x18 ra=0x18 d=0x38210001
INSTR op=0x38210001					asm="addi r1,r1,1"
ITIME t=43
R n=GPR i=1 d=0x00000004
CTIME t=47

I ea=0x1c id=23
T n=TlbCam t=instr ea=0x1c ra=0x1c  E=0x0 EPN=0x0 RPN=0x0 SIZE=0x1 SR=0x0 SW=0x0 SX=0x0 TID=0x0 TS=0x0 UR=0x0 UW=0x0 UX=0x0 V=0x0 WIMG=0x0
M n=Mem t=ifetch ea=0x1c ra=0x1c d=0x00000000
INSTR op=0x00000000					asm="halt "
ITIME t=43
CTIME t=47

RESULTS

RD n=GPR i=1 d=4
RD n=GPR i=31 d=3

