#
# Example with an annulled delayed branch; the
# third branch's delay slot is turned off.
#
= asm
 L0:
  addi r1,r1,1
  bc 20,0,L0
  bc 20,0,L2
  addi r1,r2,1
  addi r1,r3,1
  addi r1,r4,1
 L1:
  addi r2,r2,1
 L2:
  bc 17,0,L1
  addi r3,r3,1
  addi r4,r4,1
  addi r5,r5,1
= /asm

CORE n=:P

# <GEN>
MD n=Mem ra=0x00000000 d=0x38210001	# addi r1,r1,1
MD n=Mem ra=0x00000004 d=0x4280FFFC	# bc 20,0,L0
MD n=Mem ra=0x00000008 d=0x42800014	# bc 20,0,L2
MD n=Mem ra=0x0000000c d=0x38220001	# addi r1,r2,1
MD n=Mem ra=0x00000010 d=0x38230001	# addi r1,r3,1
MD n=Mem ra=0x00000014 d=0x38240001	# addi r1,r4,1
MD n=Mem ra=0x00000018 d=0x38420001	# addi r2,r2,1
MD n=Mem ra=0x0000001c d=0x4220FFFC	# bc 17,0,L1
MD n=Mem ra=0x00000020 d=0x38630001	# addi r3,r3,1
MD n=Mem ra=0x00000024 d=0x38840001	# addi r4,r4,1
MD n=Mem ra=0x00000028 d=0x38A50001	# addi r5,r5,1
# </GEN>

RD n=CTR d=4

TRACE


I ea=0x0 id=1
M n=Mem t=ifetch ea=0x0 ra=0x0 d=0x38210001
INSTR op=0x38210001					asm="addi r1,r1,1"
R n=NIA d=0x00000004
R n=Fetch d=Normal
R n=GPR i=1 d=0x00000001

I ea=0x4 id=2
M n=Mem t=ifetch ea=0x4 ra=0x4 d=0x4280fffc
INSTR op=0x4280fffc					asm="bc 0x14,0x0,0x0000000000000000"
R n=NIA d=0x00000008
R n=Fetch d=Normal
R n=Fetch d=DelaySlot

I ea=0x8 id=3
M n=Mem t=ifetch ea=0x8 ra=0x8 d=0x42800014
INSTR op=0x42800014					asm="bc 0x14,0x0,0x000000000000001c"
R n=NIA d=0x00000000
R n=Fetch d=Normal
R n=Fetch d=DelaySlot

I ea=0x0 id=4
M n=Mem t=ifetch ea=0x0 ra=0x0 d=0x38210001
INSTR op=0x38210001					asm="addi r1,r1,1"
R n=NIA d=0x0000001c
R n=Fetch d=Normal
R n=GPR i=1 d=0x00000002

I ea=0x1c id=5
M n=Mem t=ifetch ea=0x1c ra=0x1c d=0x4220fffc
INSTR op=0x4220fffc					asm="bdnz- 0x0000000000000018"
R n=NIA d=0x00000020
R n=Fetch d=Normal
R n=CTR d=0x00000003
R n=NIA d=0x00000018

I ea=0x18 id=6
M n=Mem t=ifetch ea=0x18 ra=0x18 d=0x38420001
INSTR op=0x38420001					asm="addi r2,r2,1"
R n=NIA d=0x0000001c
R n=Fetch d=Normal
R n=GPR i=2 d=0x00000001

I ea=0x1c id=7
M n=Mem t=ifetch ea=0x1c ra=0x1c d=0x4220fffc
INSTR op=0x4220fffc					asm="bdnz- 0x0000000000000018"
R n=NIA d=0x00000020
R n=Fetch d=Normal
R n=CTR d=0x00000002
R n=NIA d=0x00000018

I ea=0x18 id=8
M n=Mem t=ifetch ea=0x18 ra=0x18 d=0x38420001
INSTR op=0x38420001					asm="addi r2,r2,1"
R n=NIA d=0x0000001c
R n=Fetch d=Normal
R n=GPR i=2 d=0x00000002

I ea=0x1c id=9
M n=Mem t=ifetch ea=0x1c ra=0x1c d=0x4220fffc
INSTR op=0x4220fffc					asm="bdnz- 0x0000000000000018"
R n=NIA d=0x00000020
R n=Fetch d=Normal
R n=CTR d=0x00000001
R n=NIA d=0x00000018

I ea=0x18 id=10
M n=Mem t=ifetch ea=0x18 ra=0x18 d=0x38420001
INSTR op=0x38420001					asm="addi r2,r2,1"
R n=NIA d=0x0000001c
R n=Fetch d=Normal
R n=GPR i=2 d=0x00000003

I ea=0x1c id=11
M n=Mem t=ifetch ea=0x1c ra=0x1c d=0x4220fffc
INSTR op=0x4220fffc					asm="bdnz- 0x0000000000000018"
R n=NIA d=0x00000020
R n=Fetch d=Normal
R n=CTR d=0x00000000

I ea=0x20 id=12
M n=Mem t=ifetch ea=0x20 ra=0x20 d=0x38630001
INSTR op=0x38630001					asm="addi r3,r3,1"
R n=NIA d=0x00000024
R n=Fetch d=Normal
R n=GPR i=3 d=0x00000001

I ea=0x24 id=13
M n=Mem t=ifetch ea=0x24 ra=0x24 d=0x38840001
INSTR op=0x38840001					asm="addi r4,r4,1"
R n=NIA d=0x00000028
R n=Fetch d=Normal
R n=GPR i=4 d=0x00000001

I ea=0x28 id=14
M n=Mem t=ifetch ea=0x28 ra=0x28 d=0x38a50001
INSTR op=0x38a50001					asm="addi r5,r5,1"
R n=NIA d=0x0000002c
R n=Fetch d=Normal
R n=GPR i=5 d=0x00000001

I ea=0x2c id=15
M n=Mem t=ifetch ea=0x2c ra=0x2c d=0x00000000
INSTR op=0x00000000					asm="halt "
R n=NIA d=0x00000030
R n=Fetch d=Normal


RESULTS
RD n=CTR d=0x00000000
RD n=Fetch d=Normal
RD n=GPR i=1 d=0x00000002
RD n=GPR i=2 d=0x00000003
RD n=GPR i=3 d=0x00000001
RD n=GPR i=4 d=0x00000001
RD n=GPR i=5 d=0x00000001
MD n=Mem ra=0x0000000000000000 d=0x38210001	#	(941686785)
MD n=Mem ra=0x0000000000000004 d=0x4280fffc	#	(1115750396)
MD n=Mem ra=0x0000000000000008 d=0x42800014	#	(1115684884)
MD n=Mem ra=0x000000000000000c d=0x38220001	#	(941752321)
MD n=Mem ra=0x0000000000000010 d=0x38230001	#	(941817857)
MD n=Mem ra=0x0000000000000014 d=0x38240001	#	(941883393)
MD n=Mem ra=0x0000000000000018 d=0x38420001	#	(943849473)
MD n=Mem ra=0x000000000000001c d=0x4220fffc	#	(1109458940)
MD n=Mem ra=0x0000000000000020 d=0x38630001	#	(946012161)
MD n=Mem ra=0x0000000000000024 d=0x38840001	#	(948174849)
MD n=Mem ra=0x0000000000000028 d=0x38a50001	#	(950337537)
