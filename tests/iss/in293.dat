#
# Super-simple test just to make sure that a 0-byte access is logged correctly.
#
# Test was generated by using an assembler generated from mod18.adl.
#

= asm

	li r3,3
	li r2,0x1000
	dsn r3,r2

= /asm

# <GEN>
MD n=Mem ra=0x00000000 d=0x38600003	#	li r3,3
MD n=Mem ra=0x00000004 d=0x38401000	#	li r2,0x1000
MD n=Mem ra=0x00000008 d=0x7C0313C6	#	dsn r3,r2
# </GEN>

CORE n=:P

MD n=Mem ra=0x1000 d=0xdeadbeef

RD n=NIA d=0x0

TRACE

I ea=0x0 id=1 tic=1
M n=Mem t=ifetch ea=0x0 ra=0x0 d=0x38600003
INSTR op=0x38600003					asm="li r3,3"
R n=GPR i=3 d=0x00000003

I ea=0x4 id=2 tic=2
M n=Mem t=ifetch ea=0x4 ra=0x4 d=0x38401000
INSTR op=0x38401000					asm="li r2,4096"
R n=GPR i=2 d=0x00001000

I ea=0x8 id=3 tic=3
M n=Mem t=ifetch ea=0x8 ra=0x8 d=0x7c0313c6
INSTR op=0x7c0313c6					asm="dsn r3,r2"
D n=Mem t=write ea=0x1000 nb=0
M n=Mem t=write ea=0x1000 ra=0x1000 d=0xdeadbeef
D n=Mem t=read ea=0x1000 nb=0
M n=Mem t=read ea=0x1000 ra=0x1000 d=0xdeadbeef

I ea=0xc id=4 tic=4
M n=Mem t=ifetch ea=0xc ra=0xc d=0x00000000
INSTR op=0x00000000					asm="halt "

RESULTS

RD n=GPR i=3 d=3
RD n=GPR i=2 d=0x1000

MD n=Mem ra=0x1000 d=0xdeadbeef
