#
# Simple test to make sure that we can fetch instructions in little-endian
# format (byte swapped).
#

= asm

  addi r1,r1,1
  addi r2,r2,2
  addi r3,r3,3

= /asm
= aopts

  -mregnames -mlittle

= /aopts
= mdopts

 instr-offset: 0x10000

= /mdopts

# <GEN>
MD n=Mem ra=0x00010000 d=0x01002138	#	addi r1,r1,1
MD n=Mem ra=0x00010004 d=0x02004238	#	addi r2,r2,2
MD n=Mem ra=0x00010008 d=0x03006338	#	addi r3,r3,3
# </GEN>

CORE n=:P

RD n=NIA     d=0x00000000

# ea=0x0000 ra=0x10000
TD n=TlbCam set=0 way=0 V=1 TID=0 SIZE=1 TS=0 RPN=0x40 WIMG=0x1 SX=1 SR=1 SW=1 EPN=0 E=0x1

RESULTS

RD n=GPR i=1 d=0x00000001
RD n=GPR i=2 d=0x00000002
RD n=GPR i=3 d=0x00000003


