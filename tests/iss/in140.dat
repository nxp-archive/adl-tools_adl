#
# Test of rollback in a parallel architecture.
#
= asm

  addi r1,r1,10
  addi r2,r1,20
  crorc 0,1,0
  addi r5,r5,1
  addi r3,r1,10
  add  r4,r3,r2
  or    r0,r0,r0
  crorc 1,0,0
  addi r1,r1,10
  addi r2,r2,20
  .long 0

= /asm

CORE n=:P

# <GEN>
MD n=Mem ra=0x00000000 d=0x3821000A	#	addi r1,r1,10
MD n=Mem ra=0x00000004 d=0x38410014	#	addi r2,r1,20
MD n=Mem ra=0x00000008 d=0x4C010342	#	crorc 0,1,0
MD n=Mem ra=0x0000000c d=0x38A50001	#	addi r5,r5,1
MD n=Mem ra=0x00000010 d=0x3861000A	#	addi r3,r1,10
MD n=Mem ra=0x00000014 d=0x7C831214	#	add  r4,r3,r2
MD n=Mem ra=0x00000018 d=0x7C000378	#	or    r0,r0,r0
MD n=Mem ra=0x0000001c d=0x4C200342	#	crorc 1,0,0
MD n=Mem ra=0x00000020 d=0x3821000A	#	addi r1,r1,10
MD n=Mem ra=0x00000024 d=0x38420014	#	addi r2,r2,20
MD n=Mem ra=0x00000028 d=0x00000000	#	.long 0
# </GEN>

RESULTS

RD n=GPR i=1  d=20
RD n=GPR i=2  d=40
RD n=GPR i=5  d=0
