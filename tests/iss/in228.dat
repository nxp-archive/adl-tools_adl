#
# Check functionality of child-indexed aliases which use slices.
#
= asm

	mfspr r4,80
	mfspr r5,60
 	addi r1,r1,10
	mtspr 60,r1
	mfspr r3,80
	addis r1,r0,0x0b00
	mtspr 80,r1
	.long 0x0
	mfspr r4,80
	mfspr r5,60
 	addi r1,r1,30
	mtspr 60,r1
	mfspr r3,80
	addis r1,r0,0x0c00
	mtspr 80,r1

= /asm

CORE n=PMT

RD n=TEN d=0xc0000000

CORE n=:PMT:t0

RD n=PTN d=0x0e000000
RD n=NIA d=0x0

CORE n=:PMT:t1

RD n=PTN d=0x0f000000
RD n=NIA d=0x20

#
# <GEN>
MD n=Mem ra=0x00000000 d=0x7C9012A6	#	mfspr r4,80
MD n=Mem ra=0x00000004 d=0x7CBC0AA6	#	mfspr r5,60
MD n=Mem ra=0x00000008 d=0x3821000A	#	addi r1,r1,10
MD n=Mem ra=0x0000000c d=0x7C3C0BA6	#	mtspr 60,r1
MD n=Mem ra=0x00000010 d=0x7C7012A6	#	mfspr r3,80
MD n=Mem ra=0x00000014 d=0x3C200B00	#	addis r1,r0,0x0b00
MD n=Mem ra=0x00000018 d=0x7C3013A6	#	mtspr 80,r1
MD n=Mem ra=0x0000001c d=0x00000000	#	.long 0x0
MD n=Mem ra=0x00000020 d=0x7C9012A6	#	mfspr r4,80
MD n=Mem ra=0x00000024 d=0x7CBC0AA6	#	mfspr r5,60
MD n=Mem ra=0x00000028 d=0x3821001E	#	addi r1,r1,30
MD n=Mem ra=0x0000002c d=0x7C3C0BA6	#	mtspr 60,r1
MD n=Mem ra=0x00000030 d=0x7C7012A6	#	mfspr r3,80
MD n=Mem ra=0x00000034 d=0x3C200C00	#	addis r1,r0,0x0c00
MD n=Mem ra=0x00000038 d=0x7C3013A6	#	mtspr 80,r1
# </GEN>

TRACE


CORE n=:PMT:t0


I ea=0x0 id=1
M n=Mem t=ifetch ea=0x0 ra=0x0 d=0x7c9012a6
INSTR op=0x7c9012a6					asm="mfspr r4,PTN"
R n=NIA d=0x00000004
R n=GPR i=4 d=0x0e000000

CORE n=:PMT:t1


I ea=0x20 id=2
M n=Mem t=ifetch ea=0x20 ra=0x20 d=0x7c9012a6
INSTR op=0x7c9012a6					asm="mfspr r4,PTN"
R n=NIA d=0x00000024
R n=GPR i=4 d=0x0f000000

CORE n=:PMT:t0


I ea=0x4 id=3
M n=Mem t=ifetch ea=0x4 ra=0x4 d=0x7cbc0aa6
INSTR op=0x7cbc0aa6					asm="mfspr r5,TCR-2"
R n=NIA d=0x00000008
R n=GPR i=5 d=0x0000000e

CORE n=:PMT:t1


I ea=0x24 id=4
M n=Mem t=ifetch ea=0x24 ra=0x24 d=0x7cbc0aa6
INSTR op=0x7cbc0aa6					asm="mfspr r5,TCR-2"
R n=NIA d=0x00000028
R n=GPR i=5 d=0x0000000f

CORE n=:PMT:t0


I ea=0x8 id=5
M n=Mem t=ifetch ea=0x8 ra=0x8 d=0x3821000a
INSTR op=0x3821000a					asm="addi r1,r1,10"
R n=NIA d=0x0000000c
R n=GPR i=1 d=0x0000000a

CORE n=:PMT:t1


I ea=0x28 id=6
M n=Mem t=ifetch ea=0x28 ra=0x28 d=0x3821001e
INSTR op=0x3821001e					asm="addi r1,r1,30"
R n=NIA d=0x0000002c
R n=GPR i=1 d=0x0000001e

CORE n=:PMT:t0


I ea=0xc id=7
M n=Mem t=ifetch ea=0xc ra=0xc d=0x7c3c0ba6
INSTR op=0x7c3c0ba6					asm="mtspr TCR-2,r1"
R n=NIA d=0x00000010
R n=TCR i=0 d=0x0000000a

CORE n=:PMT:t1


I ea=0x2c id=8
M n=Mem t=ifetch ea=0x2c ra=0x2c d=0x7c3c0ba6
INSTR op=0x7c3c0ba6					asm="mtspr TCR-2,r1"
R n=NIA d=0x00000030
R n=TCR i=1 d=0x0000001e

CORE n=:PMT:t0


I ea=0x10 id=9
M n=Mem t=ifetch ea=0x10 ra=0x10 d=0x7c7012a6
INSTR op=0x7c7012a6					asm="mfspr r3,PTN"
R n=NIA d=0x00000014
R n=GPR i=3 d=0x0a000000

CORE n=:PMT:t1


I ea=0x30 id=10
M n=Mem t=ifetch ea=0x30 ra=0x30 d=0x7c7012a6
INSTR op=0x7c7012a6					asm="mfspr r3,PTN"
R n=NIA d=0x00000034
R n=GPR i=3 d=0x1e000000

CORE n=:PMT:t0


I ea=0x14 id=11
M n=Mem t=ifetch ea=0x14 ra=0x14 d=0x3c200b00
INSTR op=0x3c200b00					asm="lis r1,2816"
R n=NIA d=0x00000018
R n=GPR i=1 d=0x0b000000

CORE n=:PMT:t1


I ea=0x34 id=12
M n=Mem t=ifetch ea=0x34 ra=0x34 d=0x3c200c00
INSTR op=0x3c200c00					asm="lis r1,3072"
R n=NIA d=0x00000038
R n=GPR i=1 d=0x0c000000

CORE n=:PMT:t0


I ea=0x18 id=13
M n=Mem t=ifetch ea=0x18 ra=0x18 d=0x7c3013a6
INSTR op=0x7c3013a6					asm="mtspr PTN,r1"
R n=NIA d=0x0000001c
R n=PTN d=0x0b000000

CORE n=:PMT:t1


I ea=0x38 id=14
M n=Mem t=ifetch ea=0x38 ra=0x38 d=0x7c3013a6
INSTR op=0x7c3013a6					asm="mtspr PTN,r1"
R n=NIA d=0x0000003c
R n=PTN d=0x0c000000

CORE n=:PMT:t0


I ea=0x1c id=15
M n=Mem t=ifetch ea=0x1c ra=0x1c d=0x00000000
INSTR op=0x00000000					asm="halt "
R n=NIA d=0x00000020

CORE n=:PMT:t1


I ea=0x3c id=16
M n=Mem t=ifetch ea=0x3c ra=0x3c d=0x00000000
INSTR op=0x00000000					asm="halt "
R n=NIA d=0x00000040

RESULTS

CORE n=:PMT

RD n=TCR i=0 d=0x0000000b
RD n=TCR i=1 d=0x0000000c

CORE n=:PMT:t0

RD n=PTN d=0x0b000000
RD n=GPR i=1 d=0x0b000000
RD n=GPR i=2 d=0x00000000
RD n=GPR i=3 d=0x0a000000
RD n=GPR i=4 d=0x0e000000
RD n=GPR i=5 d=0x0000000e

CORE n=:PMT:t1

RD n=PTN d=0x0c000000

RD n=GPR i=1 d=0x0c000000
RD n=GPR i=2 d=0x00000000
RD n=GPR i=3 d=0x1e000000
RD n=GPR i=4 d=0x0f000000
RD n=GPR i=5 d=0x0000000f
