#
# Test the use of register-file attributes in action code.
#

= asm

	mtspr 100,r1
	mtmsr r2
	mtspr 100,r3	
	addi  r10,r10,10
	.long 0x0
	mfspr r31,SRR0
	addi r11,r11,10
	addi r31,r31,4
	mtspr SRR0,r31
	rfi

= /asm

# <GEN>
MD n=Mem ra=0x00000000 d=0x7C241BA6	#	mtspr 100,r1
MD n=Mem ra=0x00000004 d=0x7C400124	#	mtmsr r2
MD n=Mem ra=0x00000008 d=0x7C641BA6	#	mtspr 100,r3	
MD n=Mem ra=0x0000000c d=0x394A000A	#	addi  r10,r10,10
MD n=Mem ra=0x00000010 d=0x00000000	#	.long 0x0
MD n=Mem ra=0x00000014 d=0x7FFA02A6	#	mfspr r31,SRR0
MD n=Mem ra=0x00000018 d=0x396B000A	#	addi r11,r11,10
MD n=Mem ra=0x0000001c d=0x3BFF0004	#	addi r31,r31,4
MD n=Mem ra=0x00000020 d=0x7FFA03A6	#	mtspr SRR0,r31
MD n=Mem ra=0x00000024 d=0x4C000064	#	rfi
# </GEN>
CORE n=:P

RD n=NIA     d=0x00000000
RD n=GPR i=1 d=0x80000000
RD n=GPR i=2 d=0x00400000
RD n=IVOR6   d=0x00000014

RESULTS

RD n=GPR i=0  d=0x00000000
RD n=GPR i=1  d=0x80000000
RD n=GPR i=2  d=0x00400000
RD n=GPR i=10 d=0x0000000a
RD n=GPR i=11 d=0x0000000a

RD n=HDBCR0   d=0x80000000
