#
# This file contains no-ops so that a pipelined transactional ISS
# will execute it correctly (assuming that the pipeline has no
# hazard detection).
#

= asm
  addi r1,r1,0x1000
  nop
  lwz  r2,0x10(r1)
  nop
  addi r2,r2,0x2000
  
= /asm

# <GEN>
MD n=Mem ra=0x00000000 d=0x38211000	#	addi r1,r1,0x1000
MD n=Mem ra=0x00000004 d=0x60000000	#	nop
MD n=Mem ra=0x00000008 d=0x80410010	#	lwz  r2,0x10(r1)
MD n=Mem ra=0x0000000c d=0x60000000	#	nop
MD n=Mem ra=0x00000010 d=0x38422000	#	addi r2,r2,0x2000
# </GEN>

MD n=Mem ra=0x1010 d=0xdead0000

TRACE

CORE n=:P

I ea=0x0 id=1
M n=Mem t=ifetch ea=0x0 ra=0x0 d=0x38211000
INSTR op=0x38211000					asm="addi r1,r1,4096"
ITIME t=0
R n=GPR i=1 d=0x00001000
CTIME t=3

I ea=0x4 id=2
M n=Mem t=ifetch ea=0x4 ra=0x4 d=0x60000000
INSTR op=0x60000000					asm="ori r0,r0,0x0"
ITIME t=1
R n=GPR i=0 d=0x00000000
CTIME t=4

I ea=0x8 id=3
M n=Mem t=ifetch ea=0x8 ra=0x8 d=0x80410010
INSTR op=0x80410010					asm="lwz r2,16(r1)"
ITIME t=2
D n=Mem t=read ea=0x1010 nb=4
M n=Mem t=read ea=0x1010 ra=0x1010 d=0xdead0000
R n=GPR i=2 d=0xdead0000
CTIME t=5

I ea=0xc id=4
M n=Mem t=ifetch ea=0xc ra=0xc d=0x60000000
INSTR op=0x60000000					asm="ori r0,r0,0x0"
ITIME t=3
R n=GPR i=0 d=0x00000000
CTIME t=6

I ea=0x10 id=5
M n=Mem t=ifetch ea=0x10 ra=0x10 d=0x38422000
INSTR op=0x38422000					asm="addi r2,r2,8192"
ITIME t=4
R n=GPR i=2 d=0xdead2000
CTIME t=7

I ea=0x14 id=6
M n=Mem t=ifetch ea=0x14 ra=0x14 d=0x00000000
INSTR op=0x00000000					asm="halt "
ITIME t=5
CTIME t=8

I ea=0x18 id=7
M n=Mem t=ifetch ea=0x18 ra=0x18 d=0x00000000
INSTR op=0x00000000					asm="halt "
ITIME t=6
CTIME t=9

RESULTS

RD n=GPR i=2 d=0xdead2000
