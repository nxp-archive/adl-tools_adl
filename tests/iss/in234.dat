#
# Make sure that repeated delayed writes properly cleanup memory.
#

= asm

loop:
			cror    10,11,12
      add     r2,r2,r1
      subic.  r3,r3,1
      bne     loop

	
= /asm

# <GEN>
MD n=Mem ra=0x00000000 d=0x4D4B6382	#	cror    10,11,12
MD n=Mem ra=0x00000004 d=0x7C420A14	#	add     r2,r2,r1
MD n=Mem ra=0x00000008 d=0x3463FFFF	#	subic.  r3,r3,1
MD n=Mem ra=0x0000000c d=0x4082FFF4	#	bne     loop
# </GEN>

CORE n=:P

RD n=NIA    d=0x0

RD n=GPR i=1  d=2
RD n=GPR i=3  d=160
RD n=GPR i=10 d=1
RD n=GPR i=11 d=2

RESULTS

RD n=GPR i=1 d=0x00000002
RD n=GPR i=2 d=0x00000140
RD n=GPR i=3 d=0x00000000
RD n=GPR i=10 d=0x00080402
RD n=GPR i=11 d=0x00080402
