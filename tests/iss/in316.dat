#
# Test that we won't execute any code if our TD threshold is 0, both for the
# interpreter and for the decode-cache simulator.
#
= asm

	# These won't actually run because the script sets the td threshold to 0.
	addi r1,r1,1
	addi r1,r1,1
	addi r1,r1,1
	addi r1,r1,1
	addi r1,r1,1
	addi r1,r1,1
	.long 0x0
	
= /asm

= aopts

 -mregnames -mbooke

= /aopts

# <GEN>
MD n=Mem ra=0x00000000 d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x00000004 d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x00000008 d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x0000000c d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x00000010 d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x00000014 d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x00000018 d=0x00000000	#	.long 0x0
# </GEN>

CORE n=:P

RESULTS

RD n=GPR i=1 d=0
