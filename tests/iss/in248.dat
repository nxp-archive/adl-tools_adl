#
# Make sure that TLB fields marked as indeterminate or unarchitected are omitted
# from logging.
#
= asm

	addi r1,r1,1
	tlbre
	tlbwe
	addi r2,r2,2

= /asm

= mdopts
 instr-offset: 0x10000
= /mdopts

= aopts
	-mregnames -me500
= /aopts

# <GEN>
MD n=Mem ra=0x00010000 d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x00010004 d=0x7C000764	#	tlbre
MD n=Mem ra=0x00010008 d=0x7C0007A4	#	tlbwe
MD n=Mem ra=0x0001000c d=0x38420002	#	addi r2,r2,2
# </GEN>

CORE n=:PMT

TD n=TlbCam set=0 way=0 EPN=0x0 RPN=0x40 SIZE=0x1 TID=0x0 TS=0x0 V=0x1 WIMG=0x0 XX1=0x0 XX2=0x0 
TD n=TlbCam set=0 way=1 EPN=0x4 RPN=0x284 SIZE=0x1 TID=0x0 TS=0x0 V=0x1 WIMG=0x0 XX1=0x0 XX2=0x0
TD n=TlbCam set=0 way=2 EPN=0x8 RPN=0x2c8 SIZE=0x1 TID=0x0 TS=0x0 V=0x1 WIMG=0x0 XX1=0x0 XX2=0x0

CORE n=:PMT:t0

RD n=NIA  d=0
RD n=MAS2 d=0x00000002

CORE n=:PMT:t1

RD n=NIA  d=0x100

TRACE



CORE n=:PMT:t0


I ea=0x0 id=1
T n=TlbCam t=instr set=0 way=0 ea=0x0 ra=0x10000  EPN=0x0 RPN=0x40 SIZE=0x1 TID=0x0 TS=0x0 V=0x1 WIMG=0x0 XX1=0x0 XX2=0x0
M n=Mem t=ifetch ea=0x0 ra=0x10000 d=0x38210001
INSTR op=0x38210001					asm="addi r1,r1,1"
R n=GPR i=1 d=0x00000001

CORE n=:PMT:t1


I ea=0x100 id=2
T n=TlbCam t=instr set=0 way=0 ea=0x100 ra=0x10100  EPN=0x0 RPN=0x40 SIZE=0x1 TID=0x0 TS=0x0 V=0x1 WIMG=0x0 XX1=0x0 XX2=0x0
M n=Mem t=ifetch ea=0x100 ra=0x10100 d=0x00000000
INSTR op=0x00000000					asm="halt "

CORE n=:PMT:t0


I ea=0x4 id=3
T n=TlbCam t=instr set=0 way=0 ea=0x4 ra=0x10004  EPN=0x0 RPN=0x40 SIZE=0x1 TID=0x0 TS=0x0 V=0x1 WIMG=0x0 XX1=0x0 XX2=0x0
M n=Mem t=ifetch ea=0x4 ra=0x10004 d=0x7c000764
INSTR op=0x7c000764					asm="tlbre "
R n=MAS0 d=0x00000800
R n=MAS0 d=0x00000800
R n=MAS0 d=0x00000802
R n=MAS0 d=0x00000802
R n=MAS1 d=0x0002c800
R n=MAS1 d=0x0002c804
R n=MAS2 d=0x00000002
R n=MAS2 d=0x00000002
R n=MAS2 d=0x00000002

I ea=0x8 id=4
T n=TlbCam t=instr set=0 way=0 ea=0x8 ra=0x10008  EPN=0x0 RPN=0x40 SIZE=0x1 TID=0x0 TS=0x0 V=0x1 WIMG=0x0 XX1=0x0 XX2=0x0
M n=Mem t=ifetch ea=0x8 ra=0x10008 d=0x7c0007a4
INSTR op=0x7c0007a4					asm="tlbwe "
T n=TlbCam t=write set=0 way=2  EPN=0x8 RPN=0x2c8 SIZE=0x1 TID=0x0 TS=0x0 V=0x1 WIMG=0x0 XX1=0x0 XX2=0x0

I ea=0xc id=5
T n=TlbCam t=instr set=0 way=0 ea=0xc ra=0x1000c  EPN=0x0 RPN=0x40 SIZE=0x1 TID=0x0 TS=0x0 V=0x1 WIMG=0x0 XX1=0x0 XX2=0x0
M n=Mem t=ifetch ea=0xc ra=0x1000c d=0x38420002
INSTR op=0x38420002					asm="addi r2,r2,2"
R n=GPR i=2 d=0x00000002

I ea=0x10 id=6
T n=TlbCam t=instr set=0 way=0 ea=0x10 ra=0x10010  EPN=0x0 RPN=0x40 SIZE=0x1 TID=0x0 TS=0x0 V=0x1 WIMG=0x0 XX1=0x0 XX2=0x0
M n=Mem t=ifetch ea=0x10 ra=0x10010 d=0x00000000
INSTR op=0x00000000					asm="halt "

RESULTS

RD n=GPR i=1 d=0x00000001
RD n=GPR i=2 d=0x00000002

RD n=MAS0 d=0x00000802
RD n=MAS1 d=0x0002c804
RD n=MAS2 d=0x00000002
