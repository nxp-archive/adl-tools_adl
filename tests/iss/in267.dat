#
# Another exception loop, this time with itlb exceptions.  Run with --mic=10 to
# break out of the loop.  This won't compare precisely between dc/jit and
# interpreted due to differences in where the td counter is incremented.
#
= asm

	addi r1,r1,1

= /asm

#
# <GEN>
MD n=Mem ra=0x00000ff0 d=0x38210001	#	addi r1,r1,1
MD n=Mem ra=0x00000ff4 d=0x00000000	#	.long 0x0
MD n=Mem ra=0x00000ff8 d=0x00000000	#	.long 0x0
MD n=Mem ra=0x00000ffc d=0x00000000	#	.long 0x0
MD n=Mem ra=0x00001000 d=0x38420002	#	addi r2,r2,2
MD n=Mem ra=0x00001004 d=0x4C000064	#	rfi
# </GEN>

CORE n=:P

RD n=NIA d=0x0

# ea=0x0000 ra=0x0
TD n=TlbCam set=0 way=0 V=1 TID=0 SIZE=1 TS=0 RPN=0x0 WIMG=0x1 SX=0 SR=1 SW=1 EPN=0

RESULTS

RD n=PFAULT d=10
