#
# Simple loop with loads and stores with negative offsets, designed to test a
# 64-bit decode-cache model.
#
= asm

	li r1,0x1100
	li r2,100
	mtctr r2
L1:
	lwz r3,-256(r1)
	addi r4,r4,r3
	stw r4,-252(r1)
	bdnz L1

= /asm

# <GEN>
MD n=Mem ra=0x00000000 d=0x38201100	#	li r1,0x1100
MD n=Mem ra=0x00000004 d=0x38400064	#	li r2,100
MD n=Mem ra=0x00000008 d=0x7C4903A6	#	mtctr r2
MD n=Mem ra=0x0000000c d=0x8061FF00	#	lwz r3,-256(r1)
MD n=Mem ra=0x00000010 d=0x38840003	#	addi r4,r4,r3
MD n=Mem ra=0x00000014 d=0x9081FF04	#	stw r4,-252(r1)
MD n=Mem ra=0x00000018 d=0x4200FFF4	#	bdnz L1
# </GEN>

MD n=Mem ra=0x1000 d=10
MD n=Mem ra=0x1004 d=10

RESULTS

MD n=Mem ra=0x1000 d=10
MD n=Mem ra=0x1004 d=300
