#
# Test the operation of 5-parm memory accesses (logging of a critical word address).
#
= asm

	lvx v1,r0,r1
	lvx v2,r0,r2
	stvx v1,r0,r3
	stvx v1,r0,r4

= /asm

= aopts
	-mregnames -maltivec
= /aopts

CORE n=P

RD n=GPR i=1 d=0x1002
RD n=GPR i=2 d=0x1011
RD n=GPR i=3 d=0x1023
RD n=GPR i=4 d=0x1035

# <GEN>
MD n=Mem ra=0x00000000 d=0x7C2008CE	#	lvx v1,r0,r1
MD n=Mem ra=0x00000004 d=0x7C4010CE	#	lvx v2,r0,r2
MD n=Mem ra=0x00000008 d=0x7C2019CE	#	stvx v1,r0,r3
MD n=Mem ra=0x0000000c d=0x7C2021CE	#	stvx v1,r0,r4
# </GEN>

MD n=Mem ra=0x1000 d=0xdeadbeef
MD n=Mem ra=0x1004 d=0x12345678
MD n=Mem ra=0x1008 d=0xabcdefab
MD n=Mem ra=0x100c d=0xb0f0babe
MD n=Mem ra=0x1010 d=0x246800ac
MD n=Mem ra=0x1014 d=0x87654321
MD n=Mem ra=0x1018 d=0xafeafeaf
MD n=Mem ra=0x101c d=0xf00dbeef

TRACE

I ea=0x0 id=1
M n=Mem t=ifetch ea=0x0 ra=0x0 d=0x7c2008ce
INSTR op=0x7c2008ce					asm="lvx 1,0,1"
D n=Mem t=read ea=0x1002 nb=16 type=read
M n=Mem t=read ea=0x1000 ra=0x1000 d=0xdeadbeef
M n=Mem t=read ea=0x1004 ra=0x1004 d=0x12345678
M n=Mem t=read ea=0x1008 ra=0x1008 d=0xabcdefab
M n=Mem t=read ea=0x100c ra=0x100c d=0xb0f0babe
R n=VPR i=1 d=0xdeadbeef12345678abcdefabb0f0babe

I ea=0x4 id=2
M n=Mem t=ifetch ea=0x4 ra=0x4 d=0x7c4010ce
INSTR op=0x7c4010ce					asm="lvx 2,0,2"
D n=Mem t=read ea=0x1011 nb=16 type=read
M n=Mem t=read ea=0x1010 ra=0x1010 d=0x246800ac
M n=Mem t=read ea=0x1014 ra=0x1014 d=0x87654321
M n=Mem t=read ea=0x1018 ra=0x1018 d=0xafeafeaf
M n=Mem t=read ea=0x101c ra=0x101c d=0xf00dbeef
R n=VPR i=2 d=0x246800ac87654321afeafeaff00dbeef

I ea=0x8 id=3
M n=Mem t=ifetch ea=0x8 ra=0x8 d=0x7c2019ce
INSTR op=0x7c2019ce					asm="stvx 1,0,3"
D n=Mem t=write ea=0x1023 nb=16 type=write
M n=Mem t=write ea=0x1020 ra=0x1020 d=0xdeadbeef
M n=Mem t=write ea=0x1024 ra=0x1024 d=0x12345678
M n=Mem t=write ea=0x1028 ra=0x1028 d=0xabcdefab
M n=Mem t=write ea=0x102c ra=0x102c d=0xb0f0babe

I ea=0xc id=4
M n=Mem t=ifetch ea=0xc ra=0xc d=0x7c2021ce
INSTR op=0x7c2021ce					asm="stvx 1,0,4"
D n=Mem t=write ea=0x1035 nb=16 type=write
M n=Mem t=write ea=0x1030 ra=0x1030 d=0xdeadbeef
M n=Mem t=write ea=0x1034 ra=0x1034 d=0x12345678
M n=Mem t=write ea=0x1038 ra=0x1038 d=0xabcdefab
M n=Mem t=write ea=0x103c ra=0x103c d=0xb0f0babe

I ea=0x10 id=5
M n=Mem t=ifetch ea=0x10 ra=0x10 d=0x00000000
INSTR op=0x00000000					asm="halt "


RESULTS

RD n=VPR i=1 d=0xdeadbeef12345678abcdefabb0f0babe
RD n=VPR i=2 d=0x246800ac87654321afeafeaff00dbeef

MD n=Mem ra=0x0000000000001000 d=0xdeadbeef     #       (3735928559)
MD n=Mem ra=0x0000000000001004 d=0x12345678     #       (305419896)
MD n=Mem ra=0x0000000000001008 d=0xabcdefab     #       (2882400171)
MD n=Mem ra=0x000000000000100c d=0xb0f0babe     #       (2968566462)
MD n=Mem ra=0x0000000000001010 d=0x246800ac     #       (610795692)
MD n=Mem ra=0x0000000000001014 d=0x87654321     #       (2271560481)
MD n=Mem ra=0x0000000000001018 d=0xafeafeaf     #       (2951413423)
MD n=Mem ra=0x000000000000101c d=0xf00dbeef     #       (4027432687)
MD n=Mem ra=0x0000000000001020 d=0xdeadbeef     #       (3735928559)
MD n=Mem ra=0x0000000000001024 d=0x12345678     #       (305419896)
MD n=Mem ra=0x0000000000001028 d=0xabcdefab     #       (2882400171)
MD n=Mem ra=0x000000000000102c d=0xb0f0babe     #       (2968566462)
MD n=Mem ra=0x0000000000001030 d=0xdeadbeef     #       (3735928559)
MD n=Mem ra=0x0000000000001034 d=0x12345678     #       (305419896)
MD n=Mem ra=0x0000000000001038 d=0xabcdefab     #       (2882400171)
MD n=Mem ra=0x000000000000103c d=0xb0f0babe     #       (2968566462)
